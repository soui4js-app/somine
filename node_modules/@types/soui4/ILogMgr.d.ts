import { IObjRef } from "soui4/IObjRef";
import { int } from "soui4/Typedef";

export class JsLogFileBuilder extends IObjRef{
    constructor();
    cbHandler:object;
    onBuildOutputFile:(logName:string,pid:number,fileIndex:number)=>string;
}

export class ILogMgr extends IObjRef{
    config(configPath:string) :boolean;
    configFromString(configContent:string) :boolean;

    //! Start Log Thread. This method can only be called once by one process.
    start() :boolean;

    //! Default the method will be calling at process exit auto.
    //! Default no need to call and no recommended.
    stop() :boolean;

    // pre-check the log filter. if filter out return false.
    prePushLog(level:int) :boolean;


    //! set logger's attribute
	isLoggerEnable():boolean;
    enableLogger(enable:boolean) :boolean;
	setLoggerName(name_u8:string) :boolean;
    setLoggerPath(path_u8:string) :boolean;
    setLoggerLevel(nLevel:int) :boolean;
    setLoggerFileLine(enable:boolean) :boolean;
    setLoggerDisplay(enable:boolean) :boolean;
    setLoggerOutFile(enable:boolean) :boolean;
    setLoggerLimitsize(limitsize:number) :boolean;
    setOutputFileBuilder(fileBuilder:JsLogFileBuilder):void;
}

